{"name":"Save vs Statuses","type":"script","scope":"global","author":"tXyJLVgERViy4mQ6","img":"icons/svg/regen.svg","command":"//By: Ruby\n\n/**\n * ICON Status Save Macro for Foundry VTT v10\n * Designed for use with Exo's module of statuses\n */\n\nconst STATUSES = [\"Blind\", \"Dazed\", \"Hatred\", \"Pacified\", \"Shattered\",\"Slashed\", \"Branded\", \"Winded\", \"Vulnerable\"]\n// Exo if you fix the blind status this will be much cleaner\n\n/*\n  Generate the HTML for the dialog box.\n  For each status (as per the array above), we give it a checkbox to determine\n  if it needs a save.\n*/\nlet formGroups = ``\nconst activeEffects = []\nCONFIG.statusEffects.forEach(status => {\n  // if the selected \n  if (token.document.hasStatusEffect(status.id) && STATUSES.includes(status.label)) {\n    activeEffects.push(status)\n    formGroups = formGroups +  `    <div class=\"form-group\">\n      <label for=\"${status.label}\"><img src=\"${status.icon}\" width=\"20\" style=\"margin-right:5px;vertical-align:text-bottom\">${status.label}</label>\n      <input type=\"checkbox\" id=\"${status.label}\" value=\"${status.label}\" checked></input>\n    </div>\n`\n  }\n})\n\nconst content = `<form>\n  <div class=\"form-fields\">\n  <div class=\"form-group\">\n      <label for=\"save-boons\">Boons/Curses:</label>\n      <input type=\"number\" id=\"save-boons\" value=\"0\"></input>\n     </div>\n${formGroups}  </div>\n</form>\n`\n\nnew Dialog({\n  title: \"Save for Statuses\",\n  content,\n  buttons: {go: {\n    icon: `<i class=\"fas fa-check\"></i>`,\n    label: \"Roll\",\n    callback: async (html) => {\n      const saves = []\n      const num = Number(html[0].querySelector(\"input[id='save-boons']\").value);\n      \n      // arrays of promises\n      const saveRolls = []\n      const saveRenders = []\n      var resultHTML = ``\n\n      activeEffects.forEach(async (effect) => {\n        const toSave = Boolean(html[0].querySelector(`input[id='${effect.label}']`).checked)\n\n        if (toSave) {\n          save = new Roll(`1d20 + ${num}d6kh1`)\n          saveRolls.push( save.evaluate({async:true}))\n          saves.push(effect)\n        }\n      })\n\n      // once the promises all resolve then we can figure out chat message\n      Promise.all(saveRolls).then(rolls => {\n        // collect the render promises here otherwise they don't work right\n        rolls.forEach(roll => {saveRenders.push(roll.render())})\n        Promise.all(saveRenders).then(renders => {\n          // collect all the data into one array\n          rollData = saves.map((e,i) => [saves[i], rolls[i], renders[i]])\n\n          rollData.forEach((element) => {\n            save = element[0]\n            roll = element[1]\n            render = element[2]\n            resultStyle = (roll.total >= 10) ? `style=\"color:green\"` :``\n            resultHTML = resultHTML + `\n                  <div class=\"icon-status-save-message-info\">\n                  <h3 ${resultStyle}><img src=\"${save.icon}\" width=\"20\" style=\"margin-right:5px;vertical-align:text-bottom\">${save.label}</h3>\n                  ${render}\n                  </div>${element != rollData[rollData.length-1] ? \"<hr></hr>\" : \"\"}`\n          })\n\n          const output = `<section class=\"icon-status-save-message\">${resultHTML}</section>`\n\n          // render the chat message\n          const chat_data = {\n            user: game.user,\n            speaker: ChatMessage._getSpeakerFromActor({actor}),\n            content: output,\n            rolls: rolls\n          }\n\n          // create the chat message and output it to the sidebar\n          const cm =  ChatMessage.create(chat_data);\n          cm?.render();\n          // technically runs into compatibility issues but WHATEVER\n        })\n      }) \n    }\n  }}\n}).render(true)","ownership":{"default":0,"tXyJLVgERViy4mQ6":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.KOwpjYgGzIt8gGuM"}},"_stats":{"systemId":"worldbuilding","systemVersion":"0.7.2","coreVersion":"10.291","createdTime":1674994902125,"modifiedTime":1676239350937,"lastModifiedBy":"tXyJLVgERViy4mQ6"},"folder":null,"sort":0,"_id":"4epxZX7GeDZ51nIW"}
{"name":"Attributes update","type":"script","scope":"global","author":"tXyJLVgERViy4mQ6","img":"icons/svg/dice-target.svg","command":"const targetActor = game.user.targets.first().actor\nconst clocks = {\n\tBurden4: {value: 1, label: \"Burden4\", dtype: \"Number\", group: \"clocks\"},\n\tBurden6: {value: 1, label: \"Burden6\", dtype: \"Number\", group: \"clocks\"},\n\tBurden10: {value: 1, label: \"Burden10\", dtype: \"Number\", group: \"clocks\"}\n}\nconst Stats = targetActor.system.attributes.Stats\nconst skills = {\n\tCharm: {value: 0, label: \"Charm\", dtype: \"Number\", group: \"skills\"},\n\tCommand: {value: 0, label: \"Command\", dtype: \"Number\", group: \"skills\"},\n\tEndure: {value: 0, label: \"Endure\", dtype: \"Number\", group: \"skills\"},\n\tExcel: {value: 0, label: \"Excel\", dtype: \"Number\", group: \"skills\"},\n\tSense: {value: 0, label: \"Sense\", dtype: \"Number\", group: \"skills\"},\n\tSmash: {value: 0, label: \"Smash\", dtype: \"Number\", group: \"skills\"},\n\tSneak: {value: 0, label: \"Sneak\", dtype: \"Number\", group: \"skills\"},\n\tStudy: {value: 0, label: \"Study\", dtype: \"Number\", group: \"skills\"},\n\tTinker: {value: 0, label: \"Tinker\", dtype: \"Number\", group: \"skills\"},\n\tTraverse: {value: 0, label: \"Traverse\", dtype: \"Number\", group: \"skills\"}\n}\nawait targetActor.update({\"system.attributes\": {\n  clocks: clocks,\n  Stats: Stats,\n  skills: skills\n}});","ownership":{"default":0,"tXyJLVgERViy4mQ6":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.DGYBnV4Yg127gadg"},"cf":{"id":"temp_f58bjyd6fa7"}},"_stats":{"systemId":"worldbuilding","systemVersion":"0.7.2","coreVersion":"10.291","createdTime":1670383010780,"modifiedTime":1673055761467,"lastModifiedBy":"tXyJLVgERViy4mQ6"},"folder":null,"sort":0,"_id":"BMAfy22QoWGMZ5gd"}
{"name":"Make Trait","type":"script","scope":"global","author":"tXyJLVgERViy4mQ6","img":"icons/svg/dice-target.svg","command":"const sheet = Object.values(ui.windows).find(app => app instanceof ItemSheet);\nawait sheet.object.setFlag(\"icon-145-data-wip\", \"isTrait\", true);","ownership":{"default":0,"tXyJLVgERViy4mQ6":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.elJjL75dRoUxlqQC"},"cf":{"id":"temp_f58bjyd6fa7"}},"_stats":{"systemId":"worldbuilding","systemVersion":"0.7.2","coreVersion":"10.291","createdTime":1669819180529,"modifiedTime":1670423088665,"lastModifiedBy":"tXyJLVgERViy4mQ6"},"folder":null,"sort":0,"_id":"EHTmGKVqSDgooUJk"}
{"name":"Target Macro (Crit)","type":"script","author":"tXyJLVgERViy4mQ6","img":"icons/svg/d20.svg","scope":"global","command":"const target = game.user.targets.first();\n// Dice roll Prompt\nconst content = `\n  <form>\n    <div class=\"form-fields\">\n     <div class=\"form-group\">\n      <label for=\"number-of-dice\">Boons or Curses:</label>\n      <input type=\"number\" id=\"number-of-dice\" value=\"0\"></input>\n      </div>\n     <div class=\"form-group\">\n      <label for=\"damage-dice\">Number of damage dice:</label>\n      <input type=\"number\" id=\"damage-dice\" value=\"1\"></input>\n     </div>\n     <div class=\"form-group\">\n      <label for=\"bonus-damage\">Bonus damage:</label>\n      <input type=\"number\" id=\"bonus-damage\" value=\"0\"></input>\n     </div>\n     <div class=\"form-group\">\n      <label for=\"has-fray\">Add Fray?</label>\n      <input type=\"checkbox\" id=\"has-fray\" value=\"Fray\" checked></input>\n     </div>\n     <div class=\"form-group\">\n      <label for=\"force-crit\">Force crit?</label>\n      <input type=\"checkbox\" id=\"force-crit\" value=\"force-crit\"></input>\n</input>\n     </div>\n     <div class=\"form-group\">\n      <label for=\"hissatsu\">Hissatsu?</label>\n      <input type=\"checkbox\" id=\"hissatsu\" value=\"hissatsu\"></input>\n     </div>\n    </div>\n  </form><hr>`;\n\n// Chat Message for Results\nconst results = `\n {{Message}}\n<p style=\"background-color:#333 ; font-family:capitals; color:white; text-align:center;font-size:1.5em\">Attack!</p>\n {{AttackRoll}}\n<p style=\"background-color:#666; font-family:capitals; color:white; text-align:center;font-size:1.5em\">Damage Roll</p> \n{{DamageRoll}}\n`;\n\nnew Dialog({\n  title: \"Attack Macro\",\n  content,\n  buttons: {go: {\n    icon: `<i class=\"fas fa-check\"></i>`,\n    label: \"Roll\",\n    callback: async (html) => {\n      const num = Number(html[0].querySelector(\"input[id='number-of-dice']\").value);\n      const numDmg = Number(html[0].querySelector(\"input[id='damage-dice']\").value);\n      var bonus = Number(html[0].querySelector(\"input[id='bonus-damage']\").value);\n      const hasFray = (html[0].querySelector(\"input[id='has-fray']\").checked);\n      const forceCrit = (html[0].querySelector(\"input[id='force-crit']\").checked);\n      const hissatsu = (html[0].querySelector(\"input[id='hissatsu']\").checked);\n      var damage = actor.data.data.attributes.Stats.Damage.value;\n      var fray = actor.data.data.attributes.Stats.Fray.value;\n      if (hissatsu) {\n       damage = 10;\n       fray = 4;\n      }\n\n      // create and evaluate the to-hit roll\n      const hitRoll = new Roll(`1d20 + ${num}d6kh1`);\n      await hitRoll.evaluate();\n      let messageHTML;\nif (target != null) {\n const targetValue = target.actor.data.data.attributes.Stats.Defense.value;\n  if(hitRoll.total>=20) messageHTML=`<p style=\"color:red\">You crit ${target.name}!</p>`;\n  else if(hitRoll.total>=targetValue) messageHTML=`<p style=\"color:red\">You hit ${target.name}!</p>`;\n  else messageHTML=`<p style=\"color:red\">You miss ${target.name}</p>`;\n} else {\n  // this is redundant with the critHTML variable later on in the code\n  if(hitRoll.total>=20) messageHTML=`<p style=\"color:red\">You crit!</p>`;\n  else messageHTML = ``;\n}\n      \n      // if we crit, we add another die, or add bonus die\n      const crit = hitRoll.total >= 20 || forceCrit\n      const critDie = crit ? 1 : 0;\n\n      // if we have a double crit, increase bonus damage\n      if (hitRoll.total >= 20 && forceCrit) {\n        bonus++;\n      }\n\n      // create and evaluate the damage roll\n      var dmgFormula = ``;\n      \n      if (bonus) {\n        dmgFormula = `${numDmg + bonus + (critDie)}d${damage}kh${numDmg + (critDie)}`\n      } else {\n        dmgFormula = `${numDmg + (critDie)}d${damage}`\n      }\n\n      if (hasFray) {\n        dmgFormula = dmgFormula + `+ ${fray}`\n      }\n      const dmgRoll = new Roll(dmgFormula);\n      await dmgRoll.evaluate();\n      \n      // We await these promises so we can get the HTML\n      const hitRender = hitRoll.render();\n      const dmgRender = dmgRoll.render();\n\n      Promise.all([hitRender, dmgRender]).then(async data => {\n        const hitHTML = data[0];\n        const dmgHTML = data[1];\n\n        // crappy templating\n        const html= results.replace(\"{{Message}}\", messageHTML).replace(\"{{AttackRoll}}\", hitHTML).replace(\"{{DamageRoll}}\", dmgHTML);\n        const chat_data = {\n          user: game.user,\n          speaker: ChatMessage.getSpeaker({actor}),\n          content: html\n        }\n\n        // create the chat message and output it to the sidebar\n        const cm =  ChatMessage.create(chat_data);\n        cm?.render();\n      })\n\n    }\n  }},\n  default: \"go\"\n}).render(true);","flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.qJjdTq2Z3z00Bsya"}},"ownership":{"default":0,"tXyJLVgERViy4mQ6":3},"_stats":{"systemId":"worldbuilding","systemVersion":"0.7.1","coreVersion":"10.288","createdTime":1666016124968,"modifiedTime":1666016124968,"lastModifiedBy":"tXyJLVgERViy4mQ6"},"folder":null,"sort":0,"_id":"KOraPYYkloXrtevK"}
{"name":"Ability Replacement","type":"script","scope":"global","author":"tXyJLVgERViy4mQ6","img":"icons/svg/dice-target.svg","command":"for(let actor of game.actors){\nfor(let item of actor.items){\n\tlet {description} = item.system;\n\tdescription = description.replaceAll(\"Compendium.world.effects\", \"Compendium.icon-145-data-wip.effects\");\n\tawait item.update({\"system.description\": description});\n}\n}","ownership":{"default":0,"tXyJLVgERViy4mQ6":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.BojKfhgrnvvGSoaB"},"cf":{"id":"temp_f58bjyd6fa7"}},"_stats":{"systemId":"worldbuilding","systemVersion":"0.7.2","coreVersion":"10.291","createdTime":1669364753908,"modifiedTime":1670423092634,"lastModifiedBy":"tXyJLVgERViy4mQ6"},"folder":null,"sort":0,"_id":"Lb7cvTtcnwrcV916"}
{"name":"3 Talents","type":"script","scope":"global","author":"tXyJLVgERViy4mQ6","img":"icons/svg/dice-target.svg","command":"const sheet = Object.values(ui.windows).find(app => app instanceof ItemSheet);\nawait sheet.object.setFlag(\"icon-145-data-wip\", \"Talent1\", true);\nawait sheet.object.setFlag(\"icon-145-data-wip\", \"Talent2\", true);\nawait sheet.object.setFlag(\"icon-145-data-wip\", \"Talent3\", true);\nawait sheet.object.unsetFlag(\"icon-145-data-wip\", \"Talent4\");\nawait sheet.object.unsetFlag(\"icon-145-data-wip\", \"Talent5\");\nawait sheet.object.unsetFlag(\"icon-145-data-wip\", \"Talent6\");\nawait sheet.object.unsetFlag(\"icon-145-data-wip\", \"Talent7\");","ownership":{"default":0,"tXyJLVgERViy4mQ6":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.elJjL75dRoUxlqQC"},"cf":{"id":"temp_f58bjyd6fa7"}},"_stats":{"systemId":"worldbuilding","systemVersion":"0.7.2","coreVersion":"10.291","createdTime":1669819180529,"modifiedTime":1673183930922,"lastModifiedBy":"tXyJLVgERViy4mQ6"},"folder":null,"sort":0,"_id":"PztgknD7daedjtIX"}
{"name":"7 Talents","type":"script","scope":"global","author":"tXyJLVgERViy4mQ6","img":"icons/svg/dice-target.svg","command":"const sheet = Object.values(ui.windows).find(app => app instanceof ItemSheet);\nawait sheet.object.setFlag(\"icon-145-data-wip\", \"Talent1\", true);\nawait sheet.object.setFlag(\"icon-145-data-wip\", \"Talent2\", true);\nawait sheet.object.setFlag(\"icon-145-data-wip\", \"Talent3\", true);\nawait sheet.object.setFlag(\"icon-145-data-wip\", \"Talent4\", true);\nawait sheet.object.setFlag(\"icon-145-data-wip\", \"Talent5\", true);\nawait sheet.object.setFlag(\"icon-145-data-wip\", \"Talent6\", true);\nawait sheet.object.setFlag(\"icon-145-data-wip\", \"Talent7\", true);","ownership":{"default":0,"tXyJLVgERViy4mQ6":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.TD5akmqW5p6k102Q"},"cf":{"id":"temp_f58bjyd6fa7"}},"_stats":{"systemId":"worldbuilding","systemVersion":"0.7.2","coreVersion":"10.291","createdTime":1673183934934,"modifiedTime":1673183969327,"lastModifiedBy":"tXyJLVgERViy4mQ6"},"folder":null,"sort":0,"_id":"RZ8SGJ7Rdzgtoqn6"}
{"name":"Target Macro (No Crit)","type":"script","scope":"global","author":"tXyJLVgERViy4mQ6","img":"icons/svg/d20-black.svg","command":"const target = game.user.targets.first();\n// Dice roll Prompt\nconst content = `\n  <form>\n    <div class=\"form-fields\">\n     <div class=\"form-group\">\n      <label for=\"number-of-dice\">Boons or Curses:</label>\n      <input type=\"number\" id=\"number-of-dice\" value=\"0\"></input>\n      </div>\n     <div class=\"form-group\">\n      <label for=\"damage-dice\">Number of damage dice:</label>\n      <input type=\"number\" id=\"damage-dice\" value=\"1\"></input>\n     </div>\n     <div class=\"form-group\">\n      <label for=\"bonus-damage\">Bonus damage:</label>\n      <input type=\"number\" id=\"bonus-damage\" value=\"0\"></input>\n     </div>\n     <div class=\"form-group\">\n      <label for=\"has-fray\">Add Fray?</label>\n      <input type=\"checkbox\" id=\"has-fray\" value=\"Fray\" checked></input>\n     </div>\n     <div class=\"form-group\">\n      <label for=\"force-crit\">Force crit?</label>\n      <input type=\"checkbox\" id=\"force-crit\" value=\"force-crit\"></input>\n</input>\n     </div>\n     <div class=\"form-group\">\n      <label for=\"hissatsu\">Hissatsu?</label>\n      <input type=\"checkbox\" id=\"hissatsu\" value=\"hissatsu\"></input>\n     </div>\n    </div>\n  </form><hr>`;\n\n// Chat Message for Results\nconst results = `\n {{Message}}\n<p style=\"background-color:#333 ; font-family:capitals; color:white; text-align:center;font-size:1.5em\">Attack!</p>\n {{AttackRoll}}\n<p style=\"background-color:#666; font-family:capitals; color:white; text-align:center;font-size:1.5em\">Damage Roll</p> \n{{DamageRoll}}\n`;\n\nnew Dialog({\n  title: \"Attack Macro\",\n  content,\n  buttons: {go: {\n    icon: `<i class=\"fas fa-check\"></i>`,\n    label: \"Roll\",\n    callback: async (html) => {\n      const num = Number(html[0].querySelector(\"input[id='number-of-dice']\").value);\n      const numDmg = Number(html[0].querySelector(\"input[id='damage-dice']\").value);\n      var bonus = Number(html[0].querySelector(\"input[id='bonus-damage']\").value);\n      const hasFray = (html[0].querySelector(\"input[id='has-fray']\").checked);\n      const forceCrit = (html[0].querySelector(\"input[id='force-crit']\").checked);\n      const hissatsu = (html[0].querySelector(\"input[id='hissatsu']\").checked);\n      var damage = actor.data.data.attributes.Stats.Damage.value;\n      var fray = actor.data.data.attributes.Stats.Fray.value;\n      if (hissatsu) {\n       damage = 10;\n       fray = 4;\n      }\n\n      // create and evaluate the to-hit roll\n      const hitRoll = new Roll(`1d20 + ${num}d6kh1`);\n      await hitRoll.evaluate();\n      let messageHTML;\nif (target != null) {\n const targetValue = target.actor.data.data.attributes.Stats.Defense.value;\n  if(hitRoll.total>=20) messageHTML=`<p style=\"color:red\">You crit ${target.name}!</p>`;\n  else if(hitRoll.total>=targetValue) messageHTML=`<p style=\"color:red\">You hit ${target.name}!</p>`;\n  else messageHTML=`<p style=\"color:red\">You miss ${target.name}</p>`;\n} else {\n  // this is redundant with the critHTML variable later on in the code\n  if(hitRoll.total>=20) messageHTML=`<p style=\"color:red\">You crit!</p>`;\n  else messageHTML = ``;\n}\n      \n      // if we crit, we add another die, or add bonus die\n      const crit = forceCrit\n      const critDie = crit ? 1 : 0;\n\n      // create and evaluate the damage roll\n      var dmgFormula = ``;\n      \n      if (bonus) {\n        dmgFormula = `${numDmg + bonus + (critDie)}d${damage}kh${numDmg + (critDie)}`\n      } else {\n        dmgFormula = `${numDmg + (critDie)}d${damage}`\n      }\n\n      if (hasFray) {\n        dmgFormula = dmgFormula + `+ ${fray}`\n      }\n      const dmgRoll = new Roll(dmgFormula);\n      await dmgRoll.evaluate();\n      \n      // We await these promises so we can get the HTML\n      const hitRender = hitRoll.render();\n      const dmgRender = dmgRoll.render();\n\n      Promise.all([hitRender, dmgRender]).then(async data => {\n        const hitHTML = data[0];\n        const dmgHTML = data[1];\n\n        // crappy templating\n        const html= results.replace(\"{{Message}}\", messageHTML).replace(\"{{AttackRoll}}\", hitHTML).replace(\"{{DamageRoll}}\", dmgHTML);\n        const chat_data = {\n          user: game.user,\n          speaker: ChatMessage.getSpeaker({actor}),\n          content: html\n        }\n\n        // create the chat message and output it to the sidebar\n        const cm =  ChatMessage.create(chat_data);\n        cm?.render();\n      })\n\n    }\n  }},\n  default: \"go\"\n}).render(true);","ownership":{"default":0,"tXyJLVgERViy4mQ6":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.DXHOh2WUateNRBdg"}},"_stats":{"systemId":"worldbuilding","systemVersion":"0.7.1","coreVersion":"10.288","createdTime":1666013239684,"modifiedTime":1666016126412,"lastModifiedBy":"tXyJLVgERViy4mQ6"},"folder":null,"sort":0,"_id":"TMy4gnSd2dYDzQiF"}
{"name":"Attributes Update Sheet","type":"script","scope":"global","author":"tXyJLVgERViy4mQ6","img":"icons/svg/dice-target.svg","command":"targetActor = Object.values(ui.windows).find(app => app instanceof ActorSheet).object;\nconst clocks = {\n\tBurden4: {value: 0, label: \"Burden4\", dtype: \"Number\", group: \"clocks\"},\n\tBurden6: {value: 0, label: \"Burden6\", dtype: \"Number\", group: \"clocks\"},\n\tBurden8: {value: 0, label: \"Burden10\", dtype: \"Number\", group: \"clocks\"},\n\tAmbition4: {value: 0, label: \"Ambition4\", dtype: \"Number\", group: \"clocks\"},\n\tAmbition6: {value: 0, label: \"Ambition6\", dtype: \"Number\", group: \"clocks\"},\n\tAmbition10: {value: 0, label: \"Ambition10\", dtype: \"Number\", group: \"clocks\"}\n}\nconst Stats = targetActor.system.attributes.Stats\nconst skills = {\n\tCharm: {value: 0, label: \"Charm\", dtype: \"Number\", group: \"skills\"},\n\tCommand: {value: 0, label: \"Command\", dtype: \"Number\", group: \"skills\"},\n\tEndure: {value: 0, label: \"Endure\", dtype: \"Number\", group: \"skills\"},\n\tExcel: {value: 0, label: \"Excel\", dtype: \"Number\", group: \"skills\"},\n\tSense: {value: 0, label: \"Sense\", dtype: \"Number\", group: \"skills\"},\n\tSmash: {value: 0, label: \"Smash\", dtype: \"Number\", group: \"skills\"},\n\tSneak: {value: 0, label: \"Sneak\", dtype: \"Number\", group: \"skills\"},\n\tStudy: {value: 0, label: \"Study\", dtype: \"Number\", group: \"skills\"},\n\tTinker: {value: 0, label: \"Tinker\", dtype: \"Number\", group: \"skills\"},\n\tTraverse: {value: 0, label: \"Traverse\", dtype: \"Number\", group: \"skills\"}\n}\nconst information = {\n\tkintype: {value: \"\", label: \"Kintype\", dtype: \"String\", group: \"information\"},\n\tbond: {value: \"\", label: \"Bond\", dtype: \"String\", group: \"information\"},\n\tculture: {value: \"\", label: \"Culture\", dtype: \"String\", group: \"information\"},\n\tclass: {value: targetActor.system.attributes.information.class.value, label: \"Class\", dtype: \"String\", group: \"information\"},\n\tjob: {value: targetActor.system.attributes.information.job.value, label: \"Job\", dtype: \"String\", group: \"information\"},\n\tlevel: {value: \"\", label: \"Level\", dtype: \"Number\", group: \"information\"},\n\tXP: {value: \"\", label: \"XP\", dtype: \"Number\", group: \"information\"},\n\tDust: {value: \"\", label: \"Dust\", dtype: \"Number\", group: \"information\"},\n\tSecondWind: {value: \"\", label: \"Second Wind\", dtype: \"String\", group: \"information\"},\n\tSpecialAbility: {value: \"\", label: \"Special Ability\", dtype: \"String\", group: \"information\"},\n\tPersonalResolve: {value: 0, label: \"Personal Resolve\", dtype: \"Number\", group: \"information\"},\n\tIdeals: {value: \"\", label: \"Ideals\", dtype: \"String\", group: \"information\"},\n}\nawait targetActor.update({\"system.attributes\": {\n  clocks: clocks,\n  Stats: Stats,\n  skills: skills,\n  information: information\n}});","ownership":{"default":0,"tXyJLVgERViy4mQ6":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.WhpD6Z8NarJsDOpY"},"cf":{"id":"temp_f58bjyd6fa7"}},"_stats":{"systemId":"worldbuilding","systemVersion":"0.7.2","coreVersion":"10.291","createdTime":1670416614424,"modifiedTime":1673055781450,"lastModifiedBy":"tXyJLVgERViy4mQ6"},"folder":null,"sort":0,"_id":"TNk4lXJz1yEHW25L"}
{"name":"1 Talent","type":"script","scope":"global","author":"tXyJLVgERViy4mQ6","img":"icons/svg/dice-target.svg","command":"const sheet = Object.values(ui.windows).find(app => app instanceof ItemSheet);\nawait sheet.object.setFlag(\"icon-145-data-wip\", \"Talent1\", true);\nawait sheet.object.unsetFlag(\"icon-145-data-wip\", \"Talent2\");\nawait sheet.object.unsetFlag(\"icon-145-data-wip\", \"Talent3\");\nawait sheet.object.unsetFlag(\"icon-145-data-wip\", \"Talent4\");\nawait sheet.object.unsetFlag(\"icon-145-data-wip\", \"Talent5\");\nawait sheet.object.unsetFlag(\"icon-145-data-wip\", \"Talent6\");\nawait sheet.object.unsetFlag(\"icon-145-data-wip\", \"Talent7\");","ownership":{"default":0,"tXyJLVgERViy4mQ6":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.UgUti6BKy3EUiEuG"},"cf":{"id":"temp_f58bjyd6fa7"}},"_stats":{"systemId":"worldbuilding","systemVersion":"0.7.2","coreVersion":"10.291","createdTime":1673182256094,"modifiedTime":1673183932029,"lastModifiedBy":"tXyJLVgERViy4mQ6"},"folder":null,"sort":0,"_id":"WOLyKpO0HvP5e75s"}
{"name":"Description Replacement","type":"script","scope":"global","author":"tXyJLVgERViy4mQ6","img":"icons/svg/dice-target.svg","command":"for(let actor of game.actors){\n\tlet {biography} = actor.system;\n\tbiography = biography.replaceAll(\"Compendium.world.effects\", \"Compendium.icon-145-data-wip.effects\");\n\tawait actor.update({\"system.biography\": biography});\n}","ownership":{"default":0,"tXyJLVgERViy4mQ6":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.hdQ8N7WRQ17xTPz1"},"cf":{"id":"temp_f58bjyd6fa7"}},"_stats":{"systemId":"worldbuilding","systemVersion":"0.7.2","coreVersion":"10.291","createdTime":1669366867432,"modifiedTime":1670423090621,"lastModifiedBy":"tXyJLVgERViy4mQ6"},"folder":null,"sort":0,"_id":"bjdRBfd3hvvwOxDq"}
{"name":"Make Bond Power","type":"script","scope":"global","author":"tXyJLVgERViy4mQ6","img":"icons/svg/dice-target.svg","command":"const sheet = Object.values(ui.windows).find(app => app instanceof ItemSheet);\nconsole.log(sheet)\nawait sheet.object.setFlag(\"icon-145-data-wip\", \"isBondPower\", true);\nawait sheet.object.setFlag(\"icon-145-data-wip\", \"isTrait\", false);","ownership":{"default":0,"tXyJLVgERViy4mQ6":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.qbtPUclIRaubI5X9"},"cf":{"id":"temp_f58bjyd6fa7"}},"_stats":{"systemId":"worldbuilding","systemVersion":"0.7.2","coreVersion":"10.291","createdTime":1670550768850,"modifiedTime":1670580405722,"lastModifiedBy":"tXyJLVgERViy4mQ6"},"folder":null,"sort":0,"_id":"hWneUuvrcNsC9Ct8"}
{"name":"#[CF_tempEntity]","type":"chat","command":"","flags":{"cf":{"id":"temp_f58bjyd6fa7","name":"Dev Macros","color":"#000000","fontColor":"#FFFFFF","icon":"","sorting":"m","contents":["Lb7cvTtcnwrcV916","BMAfy22QoWGMZ5gd","TNk4lXJz1yEHW25L","bjdRBfd3hvvwOxDq","zXp5pXHZ1w9ULI0v","qZ2ELU6unfYHdzWM","hWneUuvrcNsC9Ct8","EHTmGKVqSDgooUJk","PztgknD7daedjtIX","WOLyKpO0HvP5e75s","RZ8SGJ7Rdzgtoqn6"],"children":[],"folderPath":[],"version":"2.5.6"}},"author":"tXyJLVgERViy4mQ6","img":"icons/svg/dice-target.svg","scope":"global","folder":null,"sort":0,"ownership":{"default":0,"tXyJLVgERViy4mQ6":3},"_stats":{"systemId":"worldbuilding","systemVersion":"0.7.2","coreVersion":"10.291","createdTime":1670423085174,"modifiedTime":1673183969326,"lastModifiedBy":"tXyJLVgERViy4mQ6"},"_id":"hiY4ODObER0e20zW"}
{"name":"Items Replacement","type":"script","scope":"global","author":"tXyJLVgERViy4mQ6","img":"icons/svg/dice-target.svg","command":"for(let item of game.items){\nlet {description} = item.system;\n\tdescription = description.replaceAll(\"Compendium.world.effects\", \"Compendium.icon-145-data-wip.effects\");\n\tawait item.update({\"system.description\": description});\n}","ownership":{"default":0,"tXyJLVgERViy4mQ6":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.nrEsf57iaCkH74Za"},"cf":{"id":"temp_f58bjyd6fa7"}},"_stats":{"systemId":"worldbuilding","systemVersion":"0.7.2","coreVersion":"10.291","createdTime":1669366918476,"modifiedTime":1670423089735,"lastModifiedBy":"tXyJLVgERViy4mQ6"},"folder":null,"sort":0,"_id":"qZ2ELU6unfYHdzWM"}
{"name":"Item Attributes Update","type":"script","scope":"global","author":"tXyJLVgERViy4mQ6","img":"icons/svg/dice-target.svg","command":"const sheet = Object.values(ui.windows).find(app => app instanceof ItemSheet).object;\nconsole.log(sheet)\nconst Talents = {\n\tTalent1: {value: \"\", label: \"Talent 1\", dtype: \"String\", group: \"Talents\"},\n\tTalent2: {value: \"\", label: \"Talent 2\", dtype: \"String\", group: \"Talents\"},\n\tTalent3: {value: \"\", label: \"Talent 3\", dtype: \"String\", group: \"Talents\"},\n\tTalent4: {value: \"\", label: \"Talent 4\", dtype: \"String\", group: \"Talents\"},\n\tTalent5: {value: \"\", label: \"Talent 5\", dtype: \"String\", group: \"Talents\"},\n\tTalent6: {value: \"\", label: \"Talent 6\", dtype: \"String\", group: \"Talents\"},\n\tTalent7: {value: \"\", label: \"Talent 7\", dtype: \"String\", group: \"Talents\"},\n}\nconst Tags = sheet.system.attributes.Tags\nawait sheet.update({\"system.attributes\": {\n  Tags: Tags,\n  Talents: Talents\n}});","ownership":{"default":0,"tXyJLVgERViy4mQ6":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.WhpD6Z8NarJsDOpY"},"cf":{"id":"temp_f58bjyd6fa7"}},"_stats":{"systemId":"worldbuilding","systemVersion":"0.7.2","coreVersion":"10.291","createdTime":1670416614424,"modifiedTime":1673180668872,"lastModifiedBy":"tXyJLVgERViy4mQ6"},"folder":null,"sort":0,"_id":"zXp5pXHZ1w9ULI0v"}
